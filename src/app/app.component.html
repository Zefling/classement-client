<header>
    <div class="title">{{ 'classement' | translate }}</div>
    <div class="actions">
        <light-dark></light-dark>
        <select [(ngModel)]="selectedLang" (ngModelChange)="updateLanguage($event)">
            <option *ngFor="let lang of languages" [value]="lang.value">{{ lang.label }}</option>
        </select>
        <div class="buton-menu-mobile" (click)="toggleMenu()">â˜°</div>
    </div>
</header>
<aside>
    <div class="backdrop" (click)="toggleMenu()"></div>
    <div class="menu">
        <ul>
            <li
                class="section-top"
                routerLink="/"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
                (click)="toggleMenu()"
            >
                {{ 'menu.home' | translate }}
            </li>
            <li
                class="section-top"
                routerLink="/list"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
                (click)="toggleMenu()"
            >
                {{ 'menu.list' | translate }}
            </li>
            <ng-container *ngIf="modeApi">
                <li
                    *ngIf="!userService.logged"
                    class="section-top"
                    routerLink="/user/login"
                    routerLinkActive="active"
                    [routerLinkActiveOptions]="{ exact: true }"
                    (click)="toggleMenu()"
                >
                    {{ 'menu.login' | translate }}
                </li>
                <li
                    *ngIf="userService.logged"
                    class="section-top"
                    routerLink="/user/profile"
                    routerLinkActive="active"
                    [routerLinkActiveOptions]="{ exact: true }"
                    (click)="toggleMenu()"
                >
                    {{ 'menu.profile' | translate }}
                </li>
                <li
                    class="section-top"
                    routerLink="/navigate"
                    routerLinkActive="active"
                    [routerLinkActiveOptions]="{ exact: false }"
                    (click)="toggleMenu()"
                >
                    {{ 'menu.navigate' | translate }}
                </li>
            </ng-container>
            <li
                class="section-top"
                routerLink="/edit/new"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
                (click)="toggleMenu()"
            >
                {{ 'menu.new' | translate }}
            </li>
            <li
                *ngIf="modeApi && modeModerator"
                class="section-top"
                routerLink="/admin"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: false }"
                (click)="toggleMenu()"
            >
                {{ 'menu.admin' | translate }}
            </li>
            <ng-container *ngIf="modeApi">
                <li *ngIf="userService.logged" class="logout" (click)="logout()">
                    {{ 'menu.logout' | translate }}
                </li>
                <li
                    class="information"
                    routerLink="/user/information"
                    routerLinkActive="active"
                    [routerLinkActiveOptions]="{ exact: true }"
                    (click)="toggleMenu()"
                >
                    {{ 'menu.information' | translate }}
                </li>
            </ng-container>

            <li
                class="licences"
                routerLink="/licences"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: true }"
                (click)="toggleMenu()"
            >
                {{ 'menu.licences' | translate }}
            </li>
        </ul>
        <div class="actions-mobile">
            <light-dark></light-dark>
            <select [(ngModel)]="selectedLang" (ngModelChange)="updateLanguage($event)">
                <option *ngFor="let lang of languages" [value]="lang.value">{{ lang.label }}</option>
            </select>
        </div>
    </div>
</aside>
<div>
    <router-outlet></router-outlet>
    <info-messages></info-messages>
</div>

<dialog-cmp class="auto-format" #warningExit>
    <p class="title">{{ 'gererator.change.warning' | translate }}</p>
    <p>{{ 'gererator.change.question' | translate }}</p>
    <div>
        <button (click)="exit(false)">{{ 'list.delete.cancel' | translate }}</button>
        <button class="primary" (click)="exit(true)">{{ 'list.delete.validate' | translate }}</button>
    </div>
</dialog-cmp>
